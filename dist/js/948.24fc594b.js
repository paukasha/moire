"use strict";(self["webpackChunkmoire"]=self["webpackChunkmoire"]||[]).push([[948],{8948:function(t,e,r){r.r(e),r.d(e,{default:function(){return y}});var s=function(){var t=this,e=t._self._c;return t.isLoading?e("Loader"):t.requestError?e("RequestError",{attrs:{error:t.requestError},on:{load:t.getProductDetail}}):e("div",[e("div",{staticClass:"content__top"},[e("Breadcrumbs",{attrs:{crumbs:t.crumbs},on:{selectedCrumb:function(e){return t.goToPage(e)}}})],1),e("section",{staticClass:"item"},[e("div",{staticClass:"item__pics pics"},[e("div",{staticClass:"pics__wrapper"},[e("img",{attrs:{width:"570",height:"570",src:t.selectedImageColor.url?t.selectedImageColor.url:"./img/no_image.jpg",alt:t.product.title}})]),e("ul",{staticClass:"pics__list"},t._l(t.filterColorImage,(function(r){return e("li",{staticClass:"pics__item"},[e("a",{staticClass:"pics__link",class:{"pics__link--current":t.selectedImageColor.url==r.url},on:{click:function(e){e.preventDefault(),t.selectedImageColor=r}}},[e("img",{staticStyle:{height:"141px"},attrs:{src:r.url||"./img/no_image.jpg",alt:t.product.title}})])])})),0)]),e("div",{staticClass:"item__info"},[e("span",{staticClass:"item__code"},[t._v("Артикул: "+t._s(t.product.id))]),e("h2",{staticClass:"item__title"},[t._v(t._s(t.product.title))]),e("div",{staticClass:"item__form"},[e("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.addToBasket.apply(null,arguments)}}},[e("div",{staticClass:"item__row item__row--center"},[e("ProductCount",{attrs:{"product-count":t.productCount},on:{"update:productCount":function(e){t.productCount=e},"update:product-count":function(e){t.productCount=e},error:function(e){t.error=e}}}),t.error?e("span",{staticClass:"invalid-counter"},[t._v(t._s(t.error))]):e("b",{staticClass:"item__price"},[t._v(" "+t._s(t._f("numberFormat")(t.productTotalPrice))+" ₽ ")])],1),e("div",{staticClass:"item__row"},[e("fieldset",{staticClass:"form__block"},[e("legend",{staticClass:"form__legend"},[t._v("Цвет")]),e("ul",{staticClass:"colors colors--black"},t._l(t.filterColorImage,(function(r){return e("li",{key:r.id,staticClass:"colors__item"},[e("ProductColor",{attrs:{color:r,"selected-color":t.selectedImageColor},on:{"update:selectedColor":function(e){t.selectedImageColor=e},"update:selected-color":function(e){t.selectedImageColor=e}},model:{value:t.selectedImageColor,callback:function(e){t.selectedImageColor=e},expression:"selectedImageColor"}})],1)})),0)]),e("fieldset",{staticClass:"form__block"},[e("legend",{staticClass:"form__legend"},[t._v("Размер")]),e("label",{staticClass:"form__label form__label--small form__label--select"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedSize,expression:"selectedSize"}],staticClass:"form__select",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedSize=e.target.multiple?r:r[0]}}},t._l(t.product.sizes,(function(r){return e("option",{key:r.id,domProps:{value:r.id}},[t._v(" "+t._s(r.title)+" ")])})),0)])])]),t.$store.state.Basket.requestError?e("div",[t._v(" "+t._s(t.$store.state.Basket.requestError)+" ")]):e("button",{staticClass:"item__button button button--primery",attrs:{type:"submit",disabled:""!=t.error}},[t._v("В корзину ")])])])]),e("ProductInfoTabs",{attrs:{"product-info":t.product}})],1)])},o=[],a=r(2049),i=r(3736),l=r(8737),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"item__desc"},[e("ul",{staticClass:"tabs"},t._l(t.tabs,(function(r){return e("li",{key:r.id,staticClass:"tabs__item"},[e("a",{staticClass:"tabs__link",class:{"tabs__link--current":t.currentTab==r},on:{click:function(e){e.preventDefault(),t.currentTab=r}}},[t._v(" "+t._s(r.title)+" ")])])})),0),1==t.currentTab.id?e("div",{staticClass:"item__content"},[e("h3",[t._v("Состав:")]),t._l(t.productInfo.materials,(function(r,s){return e("span",[r.title?e("span",[t._v(t._s(r.title))]):t._e(),s+1<t.productInfo.materials.length?e("span",[t._v(", ")]):t._e()])})),e("h3",[t._v("Коллекция:")]),t._l(t.productInfo.seasons,(function(r,s){return e("span",[r.title?e("span",[t._v(t._s(r.title))]):t._e(),s+1<t.productInfo.seasons.length?e("span",[t._v(", ")]):t._e()])})),e("h3",[t._v("Категория:")]),t.productInfo.category.title?e("span",[t._v(" "+t._s(t.productInfo.category.title)+" ")]):t._e()],2):t._e(),2==t.currentTab.id?e("div",{staticClass:"item__content"},[e("h3",[t._v("Доставка:")]),t._m(0),e("h3",[t._v("Возврат:")]),t._m(1)]):t._e()])},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"delivery"},[e("span",[e("span",[t._v("Самовывоз - бесплатно")]),e("br"),e("span",[t._v("Курьером - расситывается при оформлении заказа")])])])},function(){var t=this,e=t._self._c;return e("span",[t._v(" Любой возврат должен быть осуществлен в течение Возвраты в магазине БЕСПЛАТНО."),e("br"),t._v(" Вы можете вернуть товары в любой магазин. Магазин должен быть расположен в стране, в которой Вы осуществили покупку. БЕСПЛАТНЫЙ возврат в Пункт выдачи заказов."),e("br"),t._v(" Для того чтобы вернуть товар в одном из наших Пунктов выдачи заказов, позвоните по телефону 8 800 600 90 09"),e("br")])}],u={props:["productInfo"],data(){return{currentTab:"",tabs:[{id:1,title:"Информация о товаре",content:""},{id:2,title:"Доставка и возврат"}]}},mounted(){this.currentTab=this.tabs[0]}},d=u,_=r(1001),p=(0,_.Z)(d,c,n,!1,null,"40773445",null),m=p.exports,f=r(2189),C=r(9552),g=r(5580),v=r(2484),h=r(3822),b={name:"ProductPage",components:{ProductCount:l.Z,ProductInfoTabs:m,Breadcrumbs:C.Z,ProductColor:f.Z,Loader:g.Z,RequestError:v.Z},data(){return{product:{},filterColorImage:[],selectedImageColor:"",selectedSize:"",productCount:1,isLoading:!1,error:"",requestError:""}},mounted(){this.getProductDetail()},computed:{productTotalPrice(){return this.product.price*this.productCount},crumbs(){return[this.product?.category?.title,this.product.title]}},methods:{...(0,h.nv)(["addProductToBasket"]),goToPage(){this.$router.push({name:"MainPage",query:{categoryId:this.category.id}})},addToBasket(){this.addProductToBasket({productId:this.product.id,colorId:this.selectedImageColor.id,sizeId:this.selectedSize,quantity:this.productCount})},getProductDetail(){let{id:t}=this.$route.params;this.isLoading=!0,a.Z.get(`products/${t}`).then((t=>{this.product=t.data,this.filterColorImage=t.data.colors.map((t=>({id:t.color.id,code:t.color.code,url:t.gallery?t.gallery.map((t=>t.file.url)).join():""}))),this.selectedImageColor=this.filterColorImage[0],this.selectedSize=t.data?.sizes?t.data?.sizes[0].id:"",this.isLoading=!1})).catch((t=>{"404"==t.response.data.error.code?this.$router.push({name:"404"}):this.requestError="При загрузке товара произошла ошибка",this.isLoading=!1}))}},filters:{numberFormat:i.Z}},I=b,k=(0,_.Z)(I,s,o,!1,null,"5392b3e8",null),y=k.exports}}]);
//# sourceMappingURL=948.24fc594b.js.map